"use strict";function asyncGeneratorStep(e,t,n,o,r,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(o,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function l(e){asyncGeneratorStep(i,o,r,l,a,"next",e)}function a(e){asyncGeneratorStep(i,o,r,l,a,"throw",e)}l(void 0)}))}}var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){if(isIE())for(var e=document.querySelectorAll("._ibg"),t=0;t<e.length;t++)e[t].querySelector("img")&&null!=e[t].querySelector("img").getAttribute("src")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}isIE()&&document.querySelector("html").classList.add("ie"),isMobile.any()&&document.querySelector("html").classList.add("_touch"),testWebP((function(e){!0===e?document.querySelector("html").classList.add("_webp"):document.querySelector("html").classList.add("_no-webp")})),ibg(),window.addEventListener("load",(function(){document.querySelector(".wrapper")&&setTimeout((function(){document.querySelector(".wrapper").classList.add("_loaded")}),0)}));var unlock=!0;if(location.hash){var hsh=location.hash.replace("#","");document.querySelector(".popup_"+hsh)?popup_open(hsh):document.querySelector("div."+hsh)&&_goto(document.querySelector("."+hsh),500,"")}var iconMenu=document.querySelector(".icon-menu");if(null!=iconMenu){var delay=500,menuBody=document.querySelector(".menu__body");iconMenu.addEventListener("click",(function(e){unlock&&(body_lock(delay),iconMenu.classList.toggle("_active"),menuBody.classList.toggle("_active"))}))}function menu_close(){var e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__body");e.classList.remove("_active"),t.classList.remove("_active")}function body_lock(e){document.querySelector("body").classList.contains("_lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e){var t=document.querySelector("body");if(unlock){var n=document.querySelectorAll("._lp");setTimeout((function(){for(var e=0;e<n.length;e++){n[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")}),e),unlock=!1,setTimeout((function(){unlock=!0}),e)}}function body_lock_add(e){var t=document.querySelector("body");if(unlock){for(var n=document.querySelectorAll("._lp"),o=0;o<n.length;o++){n[o].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),e)}}var title=document.querySelectorAll("._letter-animation");if(title)for(var index=0;index<title.length;index++)for(var el=title[index],txt=el.innerHTML,txt_words=txt.replace("  "," ").split(" "),new_title="",_index=0;_index<txt_words.length;_index++){var txt_word=txt_words[_index],len=txt_word.length;new_title+="<p>";for(var _index2=0;_index2<len;_index2++){var it=txt_word.substr(_index2,1);" "==it&&(it="&nbsp;"),new_title=new_title+"<span>"+it+"</span>"}el.innerHTML=new_title,new_title+="&nbsp;</p>"}for(var tabs=document.querySelectorAll("._tabs"),_loop=function(e){for(var t=tabs[e],n=t.querySelectorAll("._tabs-item"),o=t.querySelectorAll("._tabs-block"),r=function(e){var t=n[e];t.addEventListener("click",(function(r){for(var i=0;i<n.length;i++){n[i].classList.remove("_active"),o[i].classList.remove("_active")}t.classList.add("_active"),o[e].classList.add("_active"),r.preventDefault()}))},i=0;i<n.length;i++)r(i)},_index3=0;_index3<tabs.length;_index3++)_loop(_index3);var spollersArray=document.querySelectorAll("[data-spollers]");if(spollersArray.length>0){var initSpollers=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((function(e){e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),initSpollerBody(e),e.addEventListener("click",setSpollerAction)):(e.classList.remove("_init"),initSpollerBody(e,!1),e.removeEventListener("click",setSpollerAction))}))},initSpollerBody=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.querySelectorAll("[data-spoller]");n.length>0&&n.forEach((function(e){t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))},setSpollerAction=function(e){var t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){var n=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=n.closest("[data-spollers]"),r=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(r&&!n.classList.contains("_active")&&hideSpollersBody(o),n.classList.toggle("_active"),_slideToggle(n.nextElementSibling,500)),e.preventDefault()}},hideSpollersBody=function(e){var t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))},spollersRegular=Array.from(spollersArray).filter((function(e,t,n){return!e.dataset.spollers.split(",")[0]}));spollersRegular.length>0&&initSpollers(spollersRegular);var spollersMedia=Array.from(spollersArray).filter((function(e,t,n){return e.dataset.spollers.split(",")[0]}));if(spollersMedia.length>0){var breakpointsArray=[];spollersMedia.forEach((function(e){var t={},n=e.dataset.spollers.split(",");t.value=n[0],t.type=n[1]?n[1].trim():"max",t.item=e,breakpointsArray.push(t)}));var mediaQueries=breakpointsArray.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));(mediaQueries=mediaQueries.filter((function(e,t,n){return n.indexOf(e)===t}))).forEach((function(e){var t=e.split(","),n=t[1],o=t[2],r=window.matchMedia(t[0]),i=breakpointsArray.filter((function(e){if(e.value===n&&e.type===o)return!0}));r.addListener((function(){initSpollers(i,r)})),initSpollers(i,r)}))}}var gallery=document.querySelectorAll("._gallery");function gallery_init(){for(var e=0;e<gallery.length;e++){var t=gallery[e];lightGallery(t,{counter:!1,selector:"a",download:!1})}}function search_in_list(e){var t=e.parentNode.querySelector("ul").querySelectorAll("li"),n=e.value.toUpperCase();for(i=0;i<t.length;i++){var o=t[i],r=o;txtValue=r.textContent||r.innerText,txtValue.toUpperCase().indexOf(n)>-1?o.style.display="":o.style.display="none"}}function digi(e){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}function digi_animate(e){if(e.length>0)for(var t=0;t<e.length;t++){var n=e[t],o=parseInt(n.innerHTML.replace(" ",""));n.classList.contains("_done")||digi_animate_value(n,0,o,1500)}}function digi_animate_value(e,t,n,o){var r=e,i=n-t,l=Math.abs(Math.floor(o/i));l=Math.max(l,50);var a,s=(new Date).getTime()+o;function c(){var e=(new Date).getTime(),t=Math.max((s-e)/o,0),l=Math.round(n-t*i);r.innerHTML=digi(l),l==n&&clearInterval(a)}a=setInterval(c,l),c(),e.classList.add("_done")}gallery&&gallery_init();for(var popup_link=document.querySelectorAll("._popup-link"),popups=document.querySelectorAll(".popup"),_loop2=function(e){var t=popup_link[e];t.addEventListener("click",(function(e){unlock&&popup_open(t.getAttribute("href").replace("#",""),t.getAttribute("data-video"));e.preventDefault()}))},_index6=0;_index6<popup_link.length;_index6++)_loop2(_index6);for(var _index7=0;_index7<popups.length;_index7++){var popup=popups[_index7];popup.addEventListener("click",(function(e){e.target.closest(".popup__body")||popup_close(e.target.closest(".popup"))}))}function popup_open(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.querySelectorAll(".popup._active");n.length>0&&popup_close("",!1);var o=document.querySelector(".popup_"+e);if(o&&unlock){if(""!=t&&null!=t){var r=document.querySelector(".popup_video");r.querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||body_lock_add(500),o.classList.add("_active"),history.pushState("","","#"+e)}}function popup_close(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(unlock){if(e){var n=e.querySelector(".popup__video");n&&(n.innerHTML=""),e.classList.remove("_active")}else for(var o=0;o<popups.length;o++){var r=popups[o],i=r.querySelector(".popup__video");i&&(i.innerHTML=""),r.classList.remove("_active")}!document.querySelector(".menu__body._active")&&t&&body_lock_remove(500),history.pushState("","",window.location.href.split("#")[0])}}var popup_close_icon=document.querySelectorAll(".popup__close,._popup-close");if(popup_close_icon)for(var _loop3=function(e){var t=popup_close_icon[e];t.addEventListener("click",(function(){popup_close(t.closest(".popup"))}))},_index9=0;_index9<popup_close_icon.length;_index9++)_loop3(_index9);document.addEventListener("keydown",(function(e){"Escape"===e.code&&popup_close()}));var _slideUp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((function(){e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);var n=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=n+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((function(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideToggle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return e.hidden?_slideDown(e,t):_slideUp(e,t)};function _wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}function _removeClasses(e,t){for(var n=0;n<e.length;n++)e[n].classList.remove(t)}function _is_hidden(e){return null===e.offsetParent}var moreBlocks=document.querySelectorAll("._more-block");moreBlocks.length>0&&function(){for(var e=document.querySelector(".wrapper"),t=function(t){var n=moreBlocks[t],o=n.querySelectorAll("._more-item");if(o.length>0){var r,i=function(t){for(var n,i=0,l=0,c=0;c<o.length;c++)c<s&&(i+=o[c].offsetHeight),l+=o[c].offsetHeight;n="start"===t?l:i,r=window.innerWidth-e.offsetWidth,a.style.height="".concat(n,"px")},l=n.querySelector("._more-link"),a=n.querySelector("._more-content"),s=a.getAttribute("data-view");"0s"===getComputedStyle(a).getPropertyValue("transition-duration")&&(a.style.cssText="transition-duration: 1ms"),l.addEventListener("click",(function(e){l.classList.contains("_active")?i():i("start"),l.classList.toggle("_active"),e.preventDefault()})),a.addEventListener("transitionend",(function(){var t=window.innerWidth-e.offsetWidth;(0===r&&t>0||r>0&&0===t)&&(l.classList.contains("_active")?i("start"):i())}),!1),window.addEventListener("resize",(function(e){l.classList.contains("_active")?i("start"):i()})),i()}},n=0;n<moreBlocks.length;n++)t(n)}();var ratings=document.querySelectorAll(".rating");function initRatings(){for(var e,t,n=0;n<ratings.length;n++){o(ratings[n])}function o(e){r(e),i(),e.classList.contains("rating_set")&&function(e){for(var n=e.querySelectorAll(".rating__item"),o=function(o){var a=n[o];a.addEventListener("mouseenter",(function(t){r(e),i(a.value)})),a.addEventListener("mouseleave",(function(e){i()})),a.addEventListener("click",(function(n){r(e),e.dataset.ajax?function(e,t){l.apply(this,arguments)}(a.value,e):(t.innerHTML=o+1,i())}))},a=0;a<n.length;a++)o(a)}(e)}function r(n){e=n.querySelector(".rating__active"),t=n.querySelector(".rating__value")}function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.innerHTML,o=n/.05;e.style.width="".concat(o,"%")}function l(){return(l=_asyncToGenerator(regeneratorRuntime.mark((function e(n,o){var r,l,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.classList.contains("rating_sending")){e.next=17;break}return o.classList.add("rating_sending"),e.next=4,fetch("rating.json",{method:"GET"});case 4:if(!(r=e.sent).ok){e.next=15;break}return e.next=8,r.json();case 8:l=e.sent,a=l.newRating,t.innerHTML=a,i(),o.classList.remove("rating_sending"),e.next=17;break;case 15:alert("Ошибка"),o.classList.remove("rating_sending");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}function animate(e){var t=e.timing,n=e.draw,o=e.duration,r=performance.now();requestAnimationFrame((function e(i){var l=(i-r)/o;l>1&&(l=1);var a=t(l);n(a),l<1&&requestAnimationFrame(e)}))}function makeEaseOut(e){return function(t){return 1-e(1-t)}}function makeEaseInOut(e){return function(t){return t<.5?e(2*t)/2:(2-e(2*(1-t)))/2}}function quad(e){return Math.pow(e,2)}function circ(e){return 1-Math.sin(Math.acos(e))}ratings.length>0&&initRatings(),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);